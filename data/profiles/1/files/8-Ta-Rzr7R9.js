/*!CK:1562067299!*//*1432611647,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["0iAW8"]); }

__d("ComposerXEmptyAttachment",["ComposerXAttachment"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(k,l){"use strict";g.call(this);this._root=k;if(l)this.attachmentClassName=l;}j.prototype.getRoot=function(){"use strict";return this._root;};e.exports=j;},null);
__d("StickyController",["CSS","Event","Style","Vector","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();function l(m,n,o,p){"use strict";this._element=m;this._marginTop=n;this._onchange=o;this._proxy=p||m.parentNode;this._boundQueryOnScroll=this.shouldFix.bind(this);this._boundMutateOnScroll=this._mutateOnScroll.bind(this);}l.prototype.handleScroll=function(){"use strict";k(this._boundQueryOnScroll,this._boundMutateOnScroll);};l.prototype.shouldFix=function(){"use strict";return j.getElementPosition(this._proxy,'viewport').y<=this._marginTop;};l.prototype._mutateOnScroll=function(){"use strict";var m=this.shouldFix();if(this.isFixed()!==m){i.set(this._element,'top',m?this._marginTop+'px':'');g.conditionClass(this._element,'fixed_elem',m);this._onchange&&this._onchange(m);}};l.prototype.start=function(){"use strict";if(this._event)return;this._event=h.listen(window,'scroll',this.handleScroll.bind(this));setTimeout(this.handleScroll.bind(this),0);};l.prototype.stop=function(){"use strict";this._event&&this._event.remove();this._event=null;};l.prototype.isFixed=function(){"use strict";return g.hasClass(this._element,'fixed_elem');};e.exports=l;},null);
__d("TimelineSideAds",["AdsMouseStateStore","Animation","Arbiter","CSS","DOM","EgoAdsObjectSet","Event","ProfileTabUtils","StickyController","TimelineAdsConfig","TimelineComponentKeys","TimelineConstants","TimelineController","UIPagelet","URI","Vector","csx","cx","debounce","ge","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){b.__markCompiled&&b.__markCompiled();var ba=75,ca='data-height',da=g.STATES,ea=30000,fa=0,ga=false,ha,ia,ja,ka,la,ma,na=new l(),oa,pa,qa=false,ra,sa=Infinity,ta=false,ua=5,va,wa,xa,ya,za,ab,bb,cb,db,eb,fb,gb,hb,ib=false,jb=[],kb;function lb(kc,lc,mc){var nc=0;if(lc)nc+=lc.getHeight();if(!qb()&&!nc)return;kc-=nc;var oc=0;for(var pc=0;pc<mc;pc++)oc+=zb(pc);if(lc)if(kc<oc){kc+=lc.fold(oc-kc);}else if(kc>oc)kc-=lc.unfold(kc-oc);return kc;}function mb(){var kc=ia.cloneNode(true);kc.id='';var lc=new l();lc.init(k.scry(kc,'div.ego_unit'));var mc=true;lc.forEach(function(nc){if(mc){mc=false;}else k.remove(nc);});j.addClass(kc,'fixed_elem');return kc;}function nb(){ma=(void 0);if(!n.tabHasScrubber(oa)){rb(ua);ub();}else if(ab){sb(ia,false);var kc=bb;bb&&k.remove(bb);bb=mb();if(kc)fc();rb(s.sidebarInitialized()&&qa?ya:xa);ub();if(!ra){var lc=s.getCurrentScrubber();if(lc)ec(lc.getRoot(),lc.getOffset());}ra&&ra.start();}else jc.adjustAdsToFit();}function ob(){if(bb){k.remove(bb);bb=null;}if(ra){ra.stop();ra=null;}var kc=n.tabHasScrubber(oa);j.conditionClass(ia,'fixed_elem',!ab&&(qb()||kc));j.conditionClass(ia,"_31wm",!kc);j.conditionClass(ia,"_5r9k",kc);}function pb(kc){var lc=v.getViewportDimensions().y,mc=s.getCurrentScrubber(),nc=mc?mc.getOffset():r.SCRUBBER_DEFAULT_OFFSET,oc=lc-nc-ba;if(mc||qb())return lb(oc,mc,kc);}function qb(){return n.tabHasFixedAds(oa);}function rb(kc){la=Math.min(kc,na.getCount());na.forEach(function(lc,mc){sb(lc,mc>=la);});sb(ia,la===0);}function sb(kc,lc){j.conditionClass(kc,"_22r",lc);kc.setAttribute('aria-hidden',lc?'true':'false');}function tb(kc){var lc=k.find(na.getUnit(kc),"div._4u8"),mc=lc.getAttribute('data-ad');return JSON.parse(mc).adid;}function ub(){wb();vb();}function vb(){var kc;if(ma!==(void 0)){kc=na.getHoldoutAdIDsForSpace(ma,ac);}else kc=na.getHoldoutAdIDsForNumAds(la);if(kc)kc.forEach(xb);}function wb(){if(!cb)return;for(var kc=la-1;kc>=0;--kc){if(ra&&ra.isFixed()&&((kc!==0)||(bb&&!j.shown(bb))))continue;var lc=tb(kc);if(!cb[lc])return;xb(lc);}}function xb(kc){if(!cb[kc])return;var lc=k.create('iframe',{src:new u('/ai.php').addQueryData({aed:cb[kc]}),width:0,height:0,frameborder:0,scrolling:'no',className:'fbEmuTracking'});lc.setAttribute('aria-hidden','true');k.appendContent(ia,lc);delete cb[kc];}function yb(kc){var lc=0;for(var mc=0;mc<ua;mc++){var nc=zb(mc);kc-=nc;if(kc>0&&nc>0)lc++;}return lc;}function zb(kc){var lc=na.getUnit(kc);if(!lc)return 0;return ac(lc);}function ac(kc){if(!kc.getAttribute(ca))bc(kc);return parseInt(kc.getAttribute(ca),10);}function bc(kc){kc.setAttribute(ca,kc.offsetHeight);}function cc(){for(var kc=0;kc<na.getCount();kc++){var lc=na.getUnit(kc);if(!lc)continue;bc(lc);}}function dc(){var kc=k.scry(ia,'div.ego_unit');na.init(kc);var lc=kc.length;if(!lc)return;j.addClass(na.getUnit(0),'ego_unit_no_top_border');nb();setTimeout(function(){kc.forEach(bc);jc.adjustAdsToFit();sa=Date.now();},0);}function ec(kc,lc){ra=new o(kc,lc,function(mc){if(mc){fc();}else{k.remove(bb);ub();}});if(bb)ra.start();}function fc(){k.insertAfter(ia,bb);gc();}function gc(){j.conditionShow(bb,zb(0)<=pb(1)&&!j.hasClass(document.documentElement,'tinyViewport'));}function hc(){if(pa){var kc=z(ja);k.find(kc,'.ego_column').appendChild(pa);}if(p.fade)(new h(z(ja))).from('opacity',0).to('opacity',1).duration(600).go();}function ic(kc){return !!k.scry(kc,'div.fbEmuHidePoll')[0];}var jc={init:function(kc,lc,mc){if(ga)return;ua=mc.max_ads;ha=mc.refresh_delay;ea=mc.refresh_threshold;va=mc.min_ads;wa=mc.min_ads_wide;xa=mc.min_ads_short;ya=mc.min_ads_short_wide;ga=true;ka=lc;ia=kc;g.updateRhcID(k.getID(ia));jc.adjustAdsType(s.shouldShowWideAds());db=i.subscribe(['UFI/CommentAddedActive','UFI/CommentDeletedActive','UFI/LikeActive','Curation/Action','ProfileBrowser/LoadMoreContent','Ads/NewContentDisplayed'],jc.loadAdsIfEnoughTimePassed);eb=i.subscribe('TimelineSideAds/refresh',jc.forceReloadAds);fb=i.subscribe('ProfileQuestionAnswered',jc.forceReloadAdsWithCallback);gb=i.subscribe('Ads/displayPoll',jc.displayAdsPoll);hb=i.subscribe('Ads/hidePoll',jc.hideAdsPoll);kb=y(jc.loadAdsIfEnoughTimePassed,ha,this,true);if(mc.mouse_move){jb.push(m.listen(window,'mousemove',kb));jb.push(m.listen(window,'scroll',kb));jb.push(m.listen(window,'resize',kb));jb.push(m.listen(ia,'mouseenter',function(){ta=true;}));jb.push(m.listen(ia,'mouseleave',function(){ta=false;}));}s.register(q.ADS,jc);},setShortMode:function(kc){ab=kc;},start:function(kc){cb=kc;za=null;dc();},updateCurrentKey:function(kc){if(kc==oa)return;oa=kc;ob();},loadAds:function(kc){if(za)return;sa=Infinity;za=t.loadFromEndpoint('WebEgoPane',ia.id,{pid:33,data:[ka,'timeline_'+kc,ab?ya:ua,++fa,false]},{crossPage:true,bundle:false,handler:hc});},registerScrubber:function(kc){if(ab)ec(kc.getRoot(),kc.getOffset());!za&&jc.adjustAdsToFit();},intentShown:function(){if(!p.stateRefresh)return false;switch(g.getState()){case da.HOVER:case da.INTENT:default:return true;case da.NO_INTENT:return false;case da.STATIONARY:return !p.refreshOnStationary;}},loadAdsIfEnoughTimePassed:function(){if(ea&&(Date.now()-sa>=ea)&&!j.hasClass(document.documentElement,'tinyViewport')&&(!ra||ra.isFixed())&&(!cb||!cb[tb(0)])&&!jc.intentShown()&&!ta)jc.loadAds(oa);jc.adjustAdsToFit();},forceReloadAdsWithCallback:function(kc,lc){pa=lc;ja=k.getID(ia);jc.loadAds(oa);},forceReloadAds:function(){jc.loadAds(oa);},adjustAdsType:function(kc){if(kc!=qa){j.conditionClass(ia,"_22q",!kc);j.conditionClass(ia,"_35q",!kc);bb&&j.conditionClass(bb,"_22q",!kc);bb&&j.conditionClass(bb,"_35q",!kc);qa=kc;cc();jc.adjustAdsToFit();var lc=z('rightColContent');if(lc)j.conditionClass(lc,'fbTimelineWideRightCol',kc);}},displayAdsPoll:function(){var kc=-1;for(var lc=0;lc<na.getCount();lc++){var mc=na.getUnit(lc);if(!mc)continue;if(kc===-1&&ic(mc))kc=lc;bc(mc);}jc.adjustAdsToFit();if(kc===la&&kc>0){sb(na.getUnit(kc-1),true);sb(na.getUnit(kc),false);}},hideAdsPoll:function(){cc();jc.adjustAdsToFit();},adjustAdsToFit:function(){if(!ia||ib)return;ib=true;var kc;if(ab){kc=qa?ya:xa;if(ra&&bb){ra.handleScroll();if(ra.isFixed()){j.conditionShow(bb,zb(0)<=pb(1)&&!j.hasClass(document.documentElement,'tinyViewport'));}else rb(kc);ub();}ib=false;return;}kc=qa?wa:va;var lc=0;aa(function(){var mc=pb(kc);if(mc!==(void 0)){ma=mc;lc=yb(mc);}},function(){if(lc>0){rb(lc);ub();ib=false;}});},reset:function(){ra&&ra.stop();za&&za.cancel();na=new l();qa=false;ia=null;ra=null;za=null;fa=0;ab=null;bb=null;oa=null;sa=Infinity;ga=false;db&&i.unsubscribe(db);db=null;eb&&i.unsubscribe(eb);eb=null;fb&&i.unsubscribe(fb);gb&&i.unsubscribe(gb);hb&&i.unsubscribe(hb);fb=null;ta=false;jb.forEach(function(kc){kc.remove();});jb=[];kb&&kb.reset();}};e.exports=a.TimelineSideAds||jc;},null);
__d("TimelineStickyHeader",["Animation","Arbiter","Bootloader","CSS","DOM","ProfileTabConst","ProfileTabUtils","Style","TimelineComponentKeys","TimelineController","Vector","ViewportBounds","csx","ge","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();var v=200,w=false,x=false,y,z,aa,ba,ca,da,ea={},fa={VISIBLE:'TimelineStickyHeader/visible',ADJUST_WIDTH:'TimelineStickyHeader/adjustWidth',init:function(ga){if(w)return;w=true;y=ga;z=k.find(ga,'div.name');aa=k.find(ga,'div.actions');x=j.hasClass(ga,'fbTimelineStickyHeaderVisible');var ha=k.find(document,"div._4f7n"),ia,ja=false;u(function(){if(ha.offsetTop&&!t('page_admin_panel')&&p.getCurrentKey()!==l.TIMELINE){ia=q.tElementDimensions(ha).y;ja=true;}},function(){if(ja){i.loadModules(["StickyController"],function(ka){new ka(ga,ia).start();});}else j.addClass(ga,'fixed_elem');u(function(){ca=ga.offsetTop;da=ga.scrollHeight;},function(){ba=r.addTop(function(){return x?ca+da:0;});},'TimelineStickyHeader/init');p.register(o.STICKY_HEADER,fa);},'TimelineStickyHeader/init');},reset:function(){w=false;x=false;y=null;z=null;aa=null;ea={};ba.remove();ba=null;},handleTabChange:function(ga){if(!m.tabHasStickyHeader(ga)){this.toggle(false,function(){return j.hide(y);});return;}j.show(y);},toggle:function(ga,ha){if(ga===x){ha&&ha();return;}var ia=ga?ca-da:ca,ja=ga?ca:ca-da;n.set(y,'top',ia+'px');j.addClass(y,'fbTimelineStickyHeaderAnimating');var ka=k.getID(y);ea[ka]&&ea[ka].stop();ea[ka]=new g(y).from('top',ia).to('top',ja).duration(v).ondone(function(){ea[ka]=null;u(null,function(){j.conditionClass(y,'fbTimelineStickyHeaderHidden',!ga);y.setAttribute('aria-hidden',ga?'false':'true');j.removeClass(y,'fbTimelineStickyHeaderAnimating');n.set(y,'top','');h.inform(fa.VISIBLE,ga);ha&&ha();});}).go();x=ga;if(x)fa.adjustWidth();},adjustWidth:function(){h.inform(fa.ADJUST_WIDTH,z,h.BEHAVIOR_STATE);},getRoot:function(){return y;},setActions:function(ga){if(w&&ga){k.setContent(aa,ga);aa=ga;}}};e.exports=a.TimelineStickyHeader||fa;},null);
__d("TimelineStickyHeaderComposerX",["Arbiter","Bootloader","ComposerXController","CSS","DOMQuery","Event","Parent","Run","TimelineComposerUtilities","TimelineContentLoader","TimelineStickyHeader","Vector","csx","cx","getElementText","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){b.__markCompiled&&b.__markCompiled();function w(y){return y&&y.getContext&&m.byClass(y.getContext(),"_2wp");}function x(y){"use strict";this._composerRoot=y;this._tokens=[o.listenToSetEstimatedDate(this._composerRoot,p.capsuleForCurrentSection),o.listenToPublish(this._composerRoot,this._close.bind(this)),g.subscribe('PhotoSnowlift.OPEN',this._close.bind(this)),g.subscribe('TimelineMLE/mleFlyoutShown',function(z,aa){if(w(aa)===this._composerRoot)i.reset(this._composerRoot);}.bind(this)),g.subscribe('composer/initializedAttachment',function(z,aa){if(aa.composerRoot===this._composerRoot){this._registerClickToDismiss();if(!aa.isInitial)this._closeMLE();}else this._close();}.bind(this)),g.subscribe(q.ADJUST_WIDTH,this._toggleNarrowMode.bind(this))];this._clickCancelToken=o.listenToCancel(this._composerRoot,this._close.bind(this));n.onLeave(function(){while(this._tokens.length)this._tokens.pop().unsubscribe();this._clearClickDismissToken();if(this._clickCancelToken){this._clickCancelToken.remove();this._clickCancelToken=null;}}.bind(this));}x.prototype._toggleNarrowMode=function(event,y){"use strict";h.loadModules(["Tooltip"],function(z){var aa;v(function(){aa=r.getElementDimensions(y).x>400;},function(){var ba=k.scry(this._composerRoot,"._9lb");j.conditionClass(this._composerRoot,"_2wq",aa);for(var ca=0;ca<ba.length;ca++){var da=ba[ca],ea=u(da);if(aa){z.set(da,ea);}else z.remove(da);}}.bind(this));}.bind(this));return false;};x.prototype._registerClickToDismiss=function(){"use strict";var y=j.hasClass(k.find(this._composerRoot,"._yq"),"_519b");if(!y){this._clearClickDismissToken();return;}this._clickDismissToken=l.listen(document.body,'click',function(z){var aa=m.byClass(z.getTarget(),"_2wp");if(!aa){this._close();this._clearClickDismissToken();}}.bind(this));};x.prototype._clearClickDismissToken=function(){"use strict";if(this._clickDismissToken){this._clickDismissToken.remove();this._clickDismissToken=null;}};x.prototype._close=function(){"use strict";this._clearClickDismissToken();this._closeMLE();i.reset(this._composerRoot);};x.prototype._closeMLE=function(){"use strict";h.loadModules(["TimelineMLE"],function(y){var z=y.getFlyout();if(w(z)===this._composerRoot)y.hideFlyout();}.bind(this));};e.exports=x;},null);
__d("ButtonGroup",["CSS","DataStore","Parent","copyProperties","createArrayFromMixed"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l='firstItem',m='lastItem';function n(s,t){var u=i.byClass(s,t);if(!u)throw new Error('invalid use case');return u;}function o(s){return g.shown(s)&&k(s.childNodes).some(g.shown);}function p(s){var t,u,v;k(s.childNodes).forEach(function(w){v=o(w);g.removeClass(w,l);g.removeClass(w,m);g.conditionShow(w,v);if(v){t=t||w;u=w;}});t&&g.addClass(t,l);u&&g.addClass(u,m);g.conditionShow(s,t);}function q(s,t){var u=n(t,'uiButtonGroupItem');s(u);p(u.parentNode);}function r(s){"use strict";this._root=n(s,'uiButtonGroup');h.set(this._root,'ButtonGroup',this);p(this._root);}r.getInstance=function(s){"use strict";var t=n(s,'uiButtonGroup'),u=h.get(t,'ButtonGroup');return u||new r(t);};j(r.prototype,{hideItem:q.bind(null,g.hide),showItem:q.bind(null,g.show),toggleItem:q.bind(null,g.toggle)});e.exports=r;},null);
__d("TimelineStickyHeaderNav",["Arbiter","ButtonGroup","CSS","DataStore","DateConsts","DOM","Event","Parent","SelectorDeprecated","Style","SubscriptionsHandler","TimelineComponentKeys","TimelineConstants","TimelineController","TimelineLegacySections","URI","Vector","csx","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){b.__markCompiled&&b.__markCompiled();var z=false,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la={},ma={},na=[],oa=false,pa=[],qa=[],ra,sa=80;function ta(){var gb=o.getSelectorMenu(ea);ra.addSubscriptions(m.listen(gb,'click',ua),g.subscribe(s.SECTION_REGISTERED,ya));}function ua(event){var gb=n.byTag(event.getTarget(),'a'),hb=gb&&j.get(gb,'key');if(hb){t.stickyHeaderNavWasClicked(hb);t.navigateToSection(hb);event.prevent();}}function va(gb,hb){var ib=o.getValue(hb);if(ib==='allStories')u.get(gb).expandSubSections();if(ib!=='activityLog')wa(hb);}function wa(gb){eb(gb,'highlights');eb(gb,'allStories');var hb=l.find(gb,'li.separator');i.conditionShow(hb,hb.previousSibling);}function xa(gb){if(ja===gb&&ha[gb]&&!ba.custom_subsection_menu){cb(gb);}else za();t.adjustStickyHeaderWidth();}function ya(gb,hb){var ib=hb.section,jb=ib.getParentKey();if(!jb)return;var kb=bb(jb),lb=t.getCurrentScrubber(),mb=ib.getScrubberKey(),nb=lb?lb.getLabelForSubnav(jb,mb):nb=ab(mb);if(nb){ha[jb]=true;db(kb,{key:mb,label:nb});xa(jb);}}function za(){ca.hideItem(fa);}function ab(gb){var hb=gb.split('_');return k.getMonthName(parseInt(hb.pop(),10));}function bb(gb){var hb=ga[gb];if(!hb){hb=ga[gb]=fa.cloneNode(true);var ib=l.scry(hb,'li.activityLog a')[0];if(ib)ib.href=new v(ib.href).addQueryData({key:gb});ra.addSubscriptions(o.listen(hb,'change',va.bind(null,gb,hb)),m.listen(hb,'click',ua));}return hb;}function cb(gb){var hb=bb(gb);l.insertAfter(fa,hb);i.hide(fa);for(var ib in ga){var jb=ga[ib];i.conditionShow(jb,jb===hb);}ca.showItem(fa);}function db(gb,hb){var ib=l.create('a',{href:'#',rel:'ignore',className:'itemAnchor',tabIndex:0},l.create('span',{className:'itemLabel fsm'},hb.label));ib.setAttribute('data-key',hb.key);ib.setAttribute('aria-checked',false);var jb=l.create('li',{className:'uiMenuItem uiMenuItemRadio uiSelectorOption'},ib);jb.setAttribute('data-label',hb.label);var kb=l.find(gb,'ul.uiMenuInner'),lb=l.create('option',{value:hb.key},hb.label),mb=l.find(gb,'select');if(hb.key==='recent'){l.prependContent(kb,jb);l.insertAfter(mb.options[0],lb);}else{l.appendContent(kb,jb);l.appendContent(mb,lb);}}function eb(gb,hb){var ib=l.scry(gb,'li.uiMenuItem');if(!ib)return;for(var jb=0;jb<ib.length;jb++){var kb=ib[jb];if(i.hasClass(kb,hb)||kb.firstChild.getAttribute('data-key')==hb){l.remove(kb);break;}}var lb=l.find(gb,'select'),mb=l.scry(lb,'option');for(jb=0;jb<mb.length;jb++)if(mb[jb].value===hb){l.remove(mb[jb]);return;}}var fb={init:function(gb,hb){if(z)return;z=true;aa=gb;ba=hb||{};da=l.find(aa,'div.pageMenu');ea=l.find(aa,'div.sectionMenu');fa=l.find(aa,'div.subsectionMenu');ka=l.find(da,'li.uiMenuSeparator');ca=h.getInstance(da);ra=new q();ga={};ha={};ia={};fb.adjustMenuHeights();ta();t.register(r.STICKY_HEADER_NAV,fb);qa.forEach(function(ib){ib();});},reset:function(){z=false;ba={};na=[];la={};ma={};oa=false;pa=[];aa=null;da=null;ea=null;fa=null;ka=null;ga={};ha={};ia={};ra.release();},addTimePeriod:function(gb){var hb=t.getCurrentScrubber();if(!hb)return;var ib=hb.getLabelForNav(gb);if(!ib)return;db(ea,{key:gb,label:ib});var jb=l.find(ea,'ul.uiMenuInner');if(gb==='recent'||jb.children.length<2)o.setSelected(ea,gb,true);},updateSection:function(gb,hb){if(hb){var ib=bb(gb);o.setSelected(ib,hb);wa(ib);}else ia[gb]=true;ja=gb;o.setSelected(ea,gb,true);xa(gb);},adjustMenuHeights:function(){var gb='';y(function(){if(!i.hasClass(document.documentElement,'tinyViewport')){var hb=l.scry(document,"div._4f7n")[0];gb=w.getViewportDimensions().y-w.getElementDimensions(hb).y-sa;gb+='px';}},function(){[da,ea].map(function(hb){p.set(l.find(hb,'ul.uiMenuInner'),'maxHeight',gb);});});},initPageMenu:function(gb,hb){if(!z){qa.push(fb.initPageMenu.bind(null,gb,hb));return;}function ib(jb,kb){jb.forEach(function(lb){var mb=ma[lb]=l.create('li');i.hide(mb);kb?l.insertBefore(ka,mb):l.appendContent(l.find(da,'ul.uiMenuInner'),mb);});}ib(gb,true);ib(hb,false);la.info=l.scry(da,'li')[0];na=hb;oa=true;if(pa.length)pa.forEach(function(jb){fb.registerPageMenuItem(jb.key,jb.item);});},registerPageMenuItem:function(gb,hb){if(!oa){pa.push({key:gb,item:hb});return;}if(ma[gb]){l.replace(ma[gb],hb);la[gb]=hb;delete ma[gb];if(na.indexOf(gb)>=0)i.show(ka);}},removeTimePeriod:function(gb){eb(ea,gb);},hideSectionMenu:function(){z&&i.hide(ea);}};e.exports=fb;},null);
__d("TimelineScrubber",["CSS","DOM","Event","Focus","Keys","Parent","ProfileTabUtils","TimelineComponentKeys","TimelineController","Vector","copyProperties","cx","getElementText"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();var t="_3rrn";function u(v){"use strict";this.$TimelineScrubber0=v;this.$TimelineScrubber1={};this.$TimelineScrubber2={};this.$TimelineScrubber3={};this.$TimelineScrubber4={};var w=v.childNodes;this.$TimelineScrubber5=w[0];for(var x=0;x<w.length;x++){var y=w[x].getAttribute('data-key');this.$TimelineScrubber1[y]=w[x];var z=h.scry(w[x],'ul');this.$TimelineScrubber2[y]={};if(z.length){var aa=z[0].childNodes;for(var ba=0;ba<aa.length;ba++)this.$TimelineScrubber2[y][aa[ba].getAttribute('data-key')]=aa[ba];}var ca=w[x].getAttribute('data-rollup');if(ca){this.$TimelineScrubber3[ca]=this.$TimelineScrubber3[ca]||[];this.$TimelineScrubber3[ca].push(w[x]);}}this.$TimelineScrubber6=i.listen(this.$TimelineScrubber0,'click',this.$TimelineScrubber7.bind(this));this.$TimelineScrubber8=i.listen(this.$TimelineScrubber0,'keydown',this.$TimelineScrubber9.bind(this));this.$TimelineScrubbera=h.scry(this.$TimelineScrubber0,'a')[0];g.show(this.$TimelineScrubber0);var da=p.getViewportDimensions().y-this.SCRUBBER_NO_ADS_VERTICAL_BUFFER,ea=this.getHeight();if(ea>da)this.fold(ea-da);o.register(n.SCRUBBER,this);o.scrubberHasLoaded(this);}u.prototype.reset=function(){"use strict";this.$TimelineScrubber6&&this.$TimelineScrubber6.remove();this.$TimelineScrubber8&&this.$TimelineScrubber8.remove();this.$TimelineScrubber0=null;this.$TimelineScrubber1={};this.$TimelineScrubber2={};this.$TimelineScrubber3={};this.$TimelineScrubber4={};};u.prototype.getRoot=function(){"use strict";return this.$TimelineScrubber0;};u.prototype.getNav=function(v){"use strict";return this.$TimelineScrubber1[v];};u.prototype.getSubnav=function(v,w){"use strict";var x=this.$TimelineScrubber2[v];return x&&x[w];};u.prototype.getHeight=function(){"use strict";return this.$TimelineScrubber0.offsetHeight;};u.prototype.getLabelForNav=function(v){"use strict";var w=this.getNav(v);return w&&s(h.scry(w,'a')[0]);};u.prototype.getLabelForSubnav=function(v,w){"use strict";var x=this.getSubnav(v,w);return x&&s(h.scry(x,'a')[0]);};u.prototype.fold=function(v){"use strict";return this.$TimelineScrubberb(v,true);};u.prototype.unfold=function(v){"use strict";return this.$TimelineScrubberb(v,false);};u.prototype.handleTabChange=function(v){"use strict";g.conditionShow(this.$TimelineScrubber0,m.tabHasScrubber(v));};u.prototype.getOffset=function(){"use strict";return this.OFFSET+(g.hasClass(document.body,'hasVoiceBar')?26:0)+(g.hasClass('rightColContent','pagesTimelineRightColumn')?48:0);};u.prototype.updateSection=function(v,w){"use strict";if(!this.$TimelineScrubber1[v])return;var x=this.$TimelineScrubber1[v].getAttribute('data-rollup');if(this.$TimelineScrubberc&&this.$TimelineScrubberc!=x){g.removeClass(this.$TimelineScrubberc,t);g.removeClass(h.scry(this.$TimelineScrubberc,'ul')[0],'loaded');delete this.$TimelineScrubberc;}if(x&&this.$TimelineScrubber4[x]){var y=this.$TimelineScrubber4[x];if(y.getAttribute('data-rollup')){this.$TimelineScrubberc=y;g.addClass(this.$TimelineScrubberc,t);g.addClass(h.scry(this.$TimelineScrubberc,'ul')[0],'loaded');}}this.$TimelineScrubber5&&g.removeClass(this.$TimelineScrubber5,t);this.$TimelineScrubberd&&g.removeClass(this.$TimelineScrubberd,t);this.$TimelineScrubber5=null;this.$TimelineScrubberd=null;if(this.$TimelineScrubber1[v]){this.$TimelineScrubber5=this.$TimelineScrubber1[v];g.addClass(this.$TimelineScrubber5,t);if(this.decadesAreSelectable&&this.$TimelineScrubber1[w]){this.$TimelineScrubberd=this.$TimelineScrubber1[w];g.addClass(this.$TimelineScrubberd,t);}else if(w&&this.$TimelineScrubber2[v][w]){this.$TimelineScrubberd=this.$TimelineScrubber2[v][w];g.addClass(this.$TimelineScrubberd,t);}}};u.prototype.$TimelineScrubbere=function(v){"use strict";var w=this.$TimelineScrubber5,x=w&&w.getAttribute('data-rollup'),y=this.KEY_HEIGHT*(this.$TimelineScrubber3[v].length-1);if(v==x){y+=this.SUBKEY_HEIGHT*h.scry(w,'li').length;y-=this.SUBKEY_HEIGHT*(this.$TimelineScrubber3[v].length-1);}return y;};u.prototype.$TimelineScrubberb=function(v,w){"use strict";var x=v,y=Object.keys(this.$TimelineScrubber3);while(v>0&&y.length){var z=y[w?'pop':'shift']();if(!w==!this.$TimelineScrubber4[z])continue;var aa=this.$TimelineScrubbere(z);if(aa<=0)continue;if(!w&&aa>v)break;var ba;if(w){ba=this.$TimelineScrubberf(z);}else ba=this.$TimelineScrubberg(z);if(ba)v-=aa;}return x-v;};u.prototype.$TimelineScrubberf=function(v){"use strict";var w=this.$TimelineScrubber3[v];if(!w||w.length<2||this.$TimelineScrubber4[v])return false;var x=w[0].previousSibling,y=w[0],z=h.create('a',{href:y.firstChild.href,rel:'ignore',tabindex:'-1'},[v]),aa=h.create('ul',{className:'clearfix'});for(var ba=0;ba<w.length;ba++)aa.appendChild(w[ba]);var ca=h.create('li',null,[z,aa]);if(this.decadesAreSelectable){var da=w[w.length-1],ea=y.getAttribute('data-key')+da.getAttribute('data-key');ca.setAttribute('data-start',da.getAttribute('data-start'));ca.setAttribute('data-end',y.getAttribute('data-end'));ca.setAttribute('data-key',ea);this.$TimelineScrubber1[ea]=ca;}else ca.setAttribute('data-key',y.getAttribute('data-key'));ca.setAttribute('data-rollup',v);if(x){h.insertAfter(x,ca);}else h.prependContent(this.$TimelineScrubber0,ca);this.$TimelineScrubber4[v]=ca;this.$TimelineScrubberh();this.$TimelineScrubberi();return true;};u.prototype.$TimelineScrubberg=function(v){"use strict";if(!this.$TimelineScrubber4[v])return false;var w=this.$TimelineScrubber4[v],x=h.scry(w,'ul')[0],y=document.createDocumentFragment();while(x.childNodes.length)y.appendChild(x.firstChild);h.replace(w,y);this.$TimelineScrubber4[v]=false;this.$TimelineScrubberh();return true;};u.prototype.$TimelineScrubberh=function(){"use strict";if(this.$TimelineScrubber5){var v=this.$TimelineScrubberd&&this.$TimelineScrubberd.getAttribute('data-key');this.updateSection(this.$TimelineScrubber5.getAttribute('data-key'),v);}};u.prototype.$TimelineScrubber7=function(event){"use strict";var v=event.getModifiers();if(event.isMiddleClick()||v.access||v.meta)return true;var w=l.byTag(event.getTarget(),'a'),x=w&&l.byAttribute(w,'data-key');if(x){o.scrubberWasClicked(x.getAttribute('data-key'));o.navigateToSection(x.getAttribute('data-key'));return event.prevent();}};u.prototype.$TimelineScrubberi=function(){"use strict";while(!(this.$TimelineScrubbera.offsetHeight||this.$TimelineScrubbera.offsetWidth)){this.$TimelineScrubbera.tabIndex=-1;var v=l.byTag(l.byTag(this.$TimelineScrubbera,'li'),'li'),w=h.scry(v,'a')[0];if(w===this.$TimelineScrubbera)return;this.$TimelineScrubbera=w;this.$TimelineScrubbera.tabIndex=0;}};u.prototype.$TimelineScrubber9=function(event){"use strict";if(event.getModifiers().any)return;var v=i.getKeyCode(event);if(v===k.UP||v===k.DOWN){var w=h.scry(this.$TimelineScrubber0,'a').filter(function(z){return z.offsetHeight||z.offsetWidth;}),x=w.indexOf(this.$TimelineScrubbera);if(x!=-1){var y=w[x+(v===k.UP?-1:1)];if(y){y.tabindex=0;j.set(y);this.$TimelineScrubbera.tabindex=-1;this.$TimelineScrubbera=y;event.prevent();}}}};q(u.prototype,{KEY_HEIGHT:23,SUBKEY_HEIGHT:16,OFFSET:38,SCRUBBER_NO_ADS_VERTICAL_BUFFER:125});e.exports=u;},null);
__d("TimelineMainScrubber",["Arbiter","CSS","DOMQuery","TimelineConstants","TimelineController","TimelineScrubber"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();for(var m in l)if(l.hasOwnProperty(m))o[m]=l[m];var n=l===null?null:l.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=l;function o(p){"use strict";l.call(this,p);this.$TimelineMainScrubber0=g.subscribe(j.SECTION_LOADED,function(q,r){var s=this.getNav(r.key),t=s&&i.scry(s,'ul')[0];if(t){h.addClass(t,'loaded');k.scrubberHasChangedState();if(r.hideSubSections)h.hide(t);}}.bind(this));}o.prototype.reset=function(){"use strict";n.reset.call(this);this.$TimelineMainScrubber0&&this.$TimelineMainScrubber0.unsubscribe();};e.exports=o;},null);
__d("ButtonGroupMonitor",["ContextualDialog","ContextualLayer","CSS","Layer","Parent","SelectorDeprecated","DataStore"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();function n(o,p){var q=k.byClass(o,'bg_stat_elem')||k.byClass(o,'uiButtonGroup');if(!q&&p)q=m.get(p,'toggleElement',null);if(q){p&&m.set(p,'toggleElement',q);i.toggleClass(q,'uiButtonGroupActive');}}j.subscribe(['hide','show'],function(o,p){if(p instanceof h||p instanceof g)n(p.getCausalElement(),p);});l.subscribe(['close','open'],function(o,p){n(p.selector);});},null);