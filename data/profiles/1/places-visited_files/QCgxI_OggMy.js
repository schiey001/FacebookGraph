/*!CK:2857083996!*//*1426512746,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["tMUqy"]); }

__d("CINameToImporterMap",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={msft:1,yahoo:3,gmail:2,yahoo_jp:22,other:19};},null);
__d("CIBase",["copyProperties"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j){g(this,{ci_config:i,element_ids:j});return this;}g(h.prototype,{getElementID:function(i){return this.element_ids[i];},setElementID:function(i,j){this.element_ids[i]=j;return this;},setAjaxMode:function(i){this.ajax_mode=i;return this;},getConfigData:function(){return {type:this.ci_config.type,flow:this.ci_config.flow,domain_id:this.ci_config.domain_id,import_id:this.ci_config.import_id,tracked_params:this.ci_config.tracked_params,use_case:this.ci_config.use_case,csrf:this.ci_config.csrf};}});e.exports=h;},null);
__d("CICaptcha",["AsyncRequest","Dialog","Form","$","bind","copyProperties","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();function n(o){l(this,{captcha_endpoint:'/contact_importer/ajax/captcha.php',callback:o,form_name:'ci_captcha_form'});return this;}l(n.prototype,{showDialog:function(){var o=new g().setMethod('GET').setReadOnly(true).setURI(this.captcha_endpoint).setData({form_name:this.form_name}).setHandler(k(this,'handleCaptchaRender')).send();},handleCaptchaRender:function(o){var p=o.getPayload(),q=[{name:'submit',label:m._("Submit"),handler:k(this,'submitCaptchaResponse')},h.CANCEL];new h().setTitle('').setBody(p.content).setButtons(q).setClickButtonOnEnter('captcha_response','submit').show();},submitCaptchaResponse:function(){var o=i.serialize(j(this.form_name));new g().setURI(this.captcha_endpoint).setMethod('POST').setData(o).setHandler(this.callback.bind(this)).send();}});e.exports=n;},null);
__d("CIConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={importEP:'/contact_importer/ajax/importer.php',addFriendsEP:'/contact_importer/ajax/importer_addfriends.php',inviteEP:'/contact_importer/ajax/importer_invite.php'};e.exports=g;},null);
__d("CIModularController",["Animation","CSS","DOM","UserAgent_DEPRECATED","$","copyProperties","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();function n(){}l(n.prototype,{init:function(o,p,q,r){n.instance=this;this.items=o;this.animate=p;this.noSteplist=r;for(var s in o)if(o[s].expanded){this.expanded=s;break;}if(!q)return;this.iconItems=q;for(var t in q)if(q[t].selected){this.selected=t;break;}},handleClick:function(o,p,q){if(this.items[o].expanded)return false;if(this.animate){var r=new g(this.getContentElement(o)).from('height',0).to('height','auto').duration(150).show();j.ie()!=9&&r.blind();q&&r.ondone(q);r.go();if(this.expanded){r=new g(this.getContentElement(this.expanded)).to('height',0).duration(150).hide();j.ie()!=9&&r.blind();r.go();}}else{h.show(this.getContentElement(o));if(this.expanded)h.hide(this.getContentElement(this.expanded));q&&q();}h.toggleClass(k(o),'expanded');if(this.expanded){h.toggleClass(k(this.expanded),'expanded');this.items[this.expanded].expanded=false;}if(!this.noSteplist){var s=m('ci_steplist_3');if(s)if(this.items[o].invitable){h.show(s);}else h.hide(s);}this.items[o].expanded=true;this.expanded=o;if(!p)return;h.toggleClass(k(p),'selected');if(this.selected){h.toggleClass(k(this.selected),'selected');this.iconItems[this.selected].selected=false;}this.iconItems[p].selected=true;this.selected=p;},getContentElement:function(o){return i.find(k(o),'.ci_module_content');},getFileUploadItemId:function(){for(var o in this.items)if(this.items[o].key=='other_tools')return o;return null;},showHiddenIfNeeded:function(o){if(this.items[o].hidden){var p=m('ci_modules_hidden');if(p){h.show(p);h.hide(k('ci_modules_pager'));}}},hasFileUpload:function(){return this.getFileUploadItemId()?true:false;},selectFileUpload:function(){var o=this.getFileUploadItemId();if(o){this.showHiddenIfNeeded(o);this.handleClick(o,null,function(){var p=m('ci_fileupload');p&&h.show(p);p=k(o);p.scrollIntoView(false);});}},selectNextItem:function(){var o=null,p=null,q=null;for(var r in this.items){if(!o)o=r;if(p){q=r;break;}if(this.items[r].expanded)p=r;}var s=q||o;this.showHiddenIfNeeded(s);this.handleClick(s);}});e.exports=n;},null);
__d("CIProgressBarDialog",["AsyncRequest","AsyncResponse","copyProperties","ProgressBar","bind","Dialog"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();function m(){i(this,{dialog:null,progressBar:null,pollCounter:0,title:null,body:null,startTime:null,endpoint:null,importer:null,startedPoll:false});}m.MAX_POLLS=15;i(m.prototype,{startTimer:function(){this.startTime=Date.now();},show:function(){this.startTimer();var n=new g(this.endpoint).setHandler(k(this,this.handleAsyncResponse));this.dialog=new l().setModal(true).showLoading().setAsync(n).setCancelHandler(k(this,this.handleCancelResponse)).show();return this;},hide:function(){if(this.dialog){this.dialog.hide();this.dialog=null;}},handleAsyncResponse:function(n){if(!this.startedPoll){var o=n.getPayload();if(o&&o.body){this.startedPoll=true;setTimeout(function(){this.progressBar=new j(this.dialog.getRoot());this.poll();}.bind(this),0);this.pollCounter=0;}}},poll:function(){if(this.pollCounter>=m.MAX_POLLS){this.hide();return;}new g().setURI(this.endpoint).setHandler(k(this,this.handlePollResponse)).setErrorHandler(k(this,this.handleErrorResponse)).setReadOnly(true).send();this.pollCounter+=1;},handlePollResponse:function(n){var o=n.getPayload().progress;if(!o||!this.progressBar||!this.dialog)return;this.setProgress(o);if(o.state!=2&&o.percent!=100)setTimeout(this.poll.bind(this),3000);},handleErrorResponse:function(n){if(!this.dialog)return;this.hide();h.defaultErrorHandler(n);},handleCancelResponse:function(){if(this.importer){this.importer.logAsync({login_str:this.importer.getLoginString(),time_ms:Date.now()-this.startTime,cancel_progress_bar:this.progressBar.state||0});this.importer.async.abandon();this.importer.async=null;}this.hide();},setEndpoint:function(n){this.endpoint=n;return this;},setImporter:function(n){this.importer=n;return this;},setProgress:function(n){if(!this.progressBar)return;this.progressBar.setTarget(n.percent,2000);this.progressBar.changeLabel(n.message);return this;},setPercent:function(n,o){this.progressBar&&this.progressBar.setTarget(n,o||0);return this;},setEnableCrossTransition:function(n){this.dialog.setAllowCrossPageTransition(true).setAllowCrossQuicklingNavigation(true);return this;}});e.exports=m;},null);
__d("CIInputController",["Arbiter","AsyncRequest","AsyncResponse","AsyncSignal","CIBase","CICaptcha","CIConstants","CIModularController","CIProgressBarDialog","CSS","DOM","Form","URI","UserAgent_DEPRECATED","Vector","bind","copyProperties","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){b.__markCompiled&&b.__markCompiled();for(var y in k)if(k.hasOwnProperty(y))aa[y]=k[y];var z=k===null?null:k.prototype;aa.prototype=Object.create(z);aa.prototype.constructor=aa;aa.__superConstructor__=k;function aa(ba,ca,da,ea,fa){"use strict";k.call(this,ba,ca);z.setAjaxMode.call(this,ea);this.show_captcha=da;this.enableProgressBar=fa||false;return this;}aa.prototype.onSubmit=function(ba){"use strict";if(this.disabled||!this.getLoginString())return false;if(this.show_captcha){var ca=new l(v(this,this._submitLoginForm,ba));ca.showDialog();return false;}return this._submitLoginForm(ba);};aa.prototype.hideProgressDialog=function(){"use strict";this.progress_dialog&&this.progress_dialog.hide();};aa.prototype.startProgressBar=function(){"use strict";var ba={};if(this.ci_config.use_case)ba.use_case=this.ci_config.use_case;ba.flow=this.ci_config.flow;var ca=new s(this.ci_config.progress_endpoint);ca.addQueryData(ba);this.progress_dialog=new o().setEndpoint(ca).setImporter(this).show();};aa.prototype.enableUserInput=function(){"use strict";this.disabled=false;var ba=x('upload_iframe');if(ba)p.show(ba);};aa.prototype._submitLoginForm=function(ba){"use strict";var ca=this.getFormElement(),da=(ca.getAttributeNode('action')||{}).value,ea=this.getSerializedForm();if(this.ci_config.use_case)ea.use_case=this.ci_config.use_case;ea.csrf=this.ci_config.csrf;ea.ext_sessions=aa.getDetectedSessionsStr();if(ba)w(ea,ba);if((ba&&ba.full_post)||!this.ajax_mode){setTimeout(function(){r.post(this.ci_config.full_endpoint,ea);}.bind(this),0);return false;}var fa=new h();da=m.importEP;ea.has_file_upload=n.instance&&n.instance.hasFileUpload()?1:0;this.disabled=true;fa.setURI(da).setData(ea).setHandler(v(this,function(ga){this.handleLoginSubmit(ga.getPayload());this.enableUserInput();})).setErrorHandler(v(this,function(ga){this.enableUserInput();this.progress_dialog&&this.progress_dialog.hide();i.defaultErrorHandler(ga);})).setStatusElement(this.getStatusElement());if(this.enableProgressBar)this.startProgressBar();aa.instance=this;fa.send();if(this.ci_config.should_log_tti)window.ciSubmitTime=Date.now();this.async=fa;return false;};aa.prototype.getSerializedForm=function(){"use strict";var ba=this.getFormElement(),ca=r.serialize(ba),da=this.getLoginElement();if(da)ca[da.name]=this.getLoginString();return ca;};aa.prototype.handleLoginSubmit=function(ba){"use strict";this.disabled=false;if(ba&&ba.progress&&this.progress_dialog){var ca=ba.progress;this.progress_dialog.setProgress(ca);}if(ba&&ba.content){var da=this.getContainerElement();q.replace(da,ba.content);}if(ba&&ba.skipnuxstep){if(this.progress_dialog)this.progress_dialog.setPercent(100,0).setEnableCrossTransition(true);g.inform('contact_importer/no_contacts');return;}this.progress_dialog&&this.progress_dialog.hide();};aa.prototype.submitChallengeDialog=function(ba){"use strict";var ca=q.find(ba.getContentNode(),'form'),da=ba.getFormData(),ea=(ca.getAttributeNode('action')||{}).value;da.ext_sessions=aa.getDetectedSessionsStr();var fa=new h().setOption('jsonp',true).setMethod('GET').setReadOnly(true).setURI(ea).setData(da).setHandler(v(this,function(ga){this.handleLoginSubmit(ga.getPayload());})).setErrorHandler(v(this,function(ga){this.progress_dialog.hide();i.defaultErrorHandler(ga);})).setStatusElement(this.getFormElement());fa.addStatusIndicator();this.startProgressBar();fa.send();};aa.prototype.tryFileUpload=function(){"use strict";n.instance.selectFileUpload();};aa.prototype.tryAnotherImporter=function(){"use strict";n.instance.selectNextItem();};aa.prototype.getLoginString=function(){"use strict";return this.getLoginElement()?this.getLoginElement().value.trim():'';};aa.prototype.openAPIPopup=function(ba,ca,da){"use strict";var ea=this.getConfigData();w(ea,{api_instance:ba,login_str:ca});if(da)ea.api_ver=da;ea.ext_sessions=aa.getDetectedSessionsStr();var fa=new s(this.ci_config.api_endpoint).addQueryData(ea),ga=0,ha=0;if(ba==1){ga=600;ha=500;}else if(ba==2){ga=600;ha=450;}else if(ba==3){ga=500;ha=500;}else if(ba==22){ga=1000;ha=850;}else if(ba==29){ga=620;ha=490;}else{ga=830;ha=600;}var ia=window.screenLeft||window.screenX||0,ja=window.screenTop||window.screenY||0,ka=u.getViewportDimensions(),la=ia+(ka.x-ga)/2,ma=ja+115,na='height='+ha+',width='+ga+',left='+la+',top='+ma+',resizable=1,scrollbars=1,toolbar=0,status=0',oa='dialogHeight='+ha+'px;'+'dialogWidth='+ga+'px;'+'dialogLeft='+la+'px;'+'dialogTop='+ma+'px;'+'center=1;resizable=1;status=0;';if(this.supportShowModalDialog()){this.apiWindow=window.showModalDialog(fa,'api_contact_importer',oa);this.isModal=true;}else{this.apiWindow=window.open(fa,'api_contact_importer',na);if(this.apiWindow)this.apiWindow.focus();}};aa.prototype.supportShowModalDialog=function(){"use strict";return window.showModalDialog&&t.firefox();};aa.prototype.processToken=function(ba,ca,da,ea){"use strict";var fa={api_instance:ba,auth_token:ca,auth_crypt:Boolean(da)};if(ea)fa.api_ver=ea;if(this.show_captcha){var ga=new l(v(this,'_submitLoginForm',fa));ga.showDialog();}else this._submitLoginForm(fa);};aa.prototype.getFormElement=function(){"use strict";return x(this.getElementID('form'));};aa.prototype.getLoginElement=function(){"use strict";return x(this.getElementID('login_input'));};aa.prototype.getContainerElement=function(){"use strict";return x(this.getElementID('contacts_container'));};aa.prototype.getStatusElement=function(){"use strict";return x(this.getElementID('form'));};aa.prototype.logAsync=function(ba){"use strict";ba=ba||{};var ca=w(ba,this.getConfigData());new j(this.ci_config.log_endpoint,ca).send();};aa.getDetectedSessionsStr=function(){"use strict";var ba='';for(var ca in aa.detectedSessions)ba+=ca+":"+aa.detectedSessions[ca]+"|";return ba;};aa.getExtSessionUsername=function(ba){"use strict";var ca=aa.detectedSessions[ba];return ca===(void 0)?null:ca;};aa.processExtSessionDetection=function(ba,ca,da){"use strict";if(!da)return;if(ca===null||ca==='')ca='*';if(aa.detectedSessions[ba]===(void 0)||aa.detectedSessions[ba]==='*')aa.detectedSessions[ba]=ca;};w(aa,{instance:null,detectedSessions:{}});w(aa.prototype,{progress_dialog:null,async:null});e.exports=aa;},null);
__d("CIAccountRecoveryInputController",["CIInputController"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(k,l){"use strict";g.call(this,k,{},false,false,false);this.login_str=l;g.instance=this;return this;}j.prototype.openRecoverPopup=function(){"use strict";this.openAPIPopup(1,this.login_str,null);};e.exports=j;},null);
__d("legacy:contact-importer-account-recovery",["CIAccountRecoveryInputController"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();a.CIAccountRecoveryInputController=b('CIAccountRecoveryInputController');},3);
__d("legacy:contact-importer-input-controller",["CIInputController"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();a.CIInputController=b('CIInputController');},3);
__d("CIInputlessController",["CIInputController"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(k,l,m,n,o){"use strict";g.call(this,k,l,m,n,o);return this;}j.prototype.onSubmit=function(k){"use strict";var l=this.getSerializedForm();if(l.use_api_popup&&l.api_instance){g.instance=this;this.openAPIPopup(l.api_instance,'');return false;}return this._submitLoginForm(k);};e.exports=j;},null);
__d("legacy:contact-importer-inputless-controller",["CIInputlessController"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();a.CIInputlessController=b('CIInputlessController');},3);
__d("legacy:ci-modular-importer-js",["CIModularController"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();a.CIModularController=b('CIModularController');},3);
__d("CIWebmailInputController",["Arbiter","CIInputController","CINameToImporterMap","CIWebmailValidator","CSS","DOM","Event","Keys","$","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();for(var q in h)if(h.hasOwnProperty(q))s[q]=h[q];var r=h===null?null:h.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=h;function s(t,u,v,w,x,y){"use strict";h.call(this,t,u,v,w,x);this.enabledApis=y||{};this.login_str=null;this.ms_login=null;this.timer=null;this.importer_widget=this.getWidget();var z=j.downloadDomainMapping.bind(j,null);m.listen(this.importer_widget,'mouseover',z);var aa=this.getLoginElement();if(aa){m.listen(aa,'focus',z);m.listen(aa,'change',this.validate.bind(this));m.listen(aa,'keydown',this.onKeyDown.bind(this));m.listen(aa,'keydown',z);}h.instance=this;return this;}s.prototype.onSubmit=function(t){"use strict";try{return this._onSubmit(t);}catch(u){var v={js_error:u.message};this.logAsync(v);return false;}};s.prototype._onSubmit=function(t){"use strict";h.instance=this;if(this.deferred)clearTimeout(this.deferred);if(!this.validate())return false;var u=this.getLoginString(),v=this.getAPIInstance(u),w=(a.CINUXToDoWebmailInputController&&this instanceof a.CINUXToDoWebmailInputController&&j.isGmailDomain(u));if(w)v=2;var x=this.getPassword();if(v){this.openAPIPopup(v,u,null);if(x)x.value='';return false;}return r.onSubmit.call(this,{});};s.prototype.validate=function(){"use strict";var t=this.getLoginString();this.login_str=t;if(!t){this.setDefault();return false;}var u=j;if(!u.isValidEmail(t)){this.setDefault();return false;}if(u.isSupportedDomain(t)){var v=this.getAPIInstance(t);if(v){this.setAPI();}else this.setValid();return true;}else{if(j.hasFullMapping()){this.setUnsupported();}else{this.setWaiting();j.downloadDomainMapping(this.validate.bind(this));}return false;}};s.prototype.setValid=function(){"use strict";this.enablePassword();k.setClass(this.importer_widget,'valid');};s.prototype.setWaiting=function(){"use strict";k.setClass(this.importer_widget,'waiting');};s.prototype.setUnsupported=function(){"use strict";k.setClass(this.importer_widget,'unsupported');this.disablePassword();this.logAsync({unsupported_login:this.login_str});};s.prototype.setAPI=function(){"use strict";k.setClass(this.importer_widget,'api');this.disablePassword();};s.prototype.setDefault=function(){"use strict";k.setClass(this.importer_widget,'default');this.enablePassword();};s.prototype.onKeyDown=function(t){"use strict";if(this.deferred)clearTimeout(this.deferred);var u=m.getKeyCode(t);if(!u||u==n.RETURN||u==n.TAB)return;this.deferred=setTimeout(this.updateDisplayOnKeyEvent.bind(this),300);};s.prototype.updateDisplayOnKeyEvent=function(){"use strict";var t=this.getLoginString();if(j.isValidEmail(t)&&this.getAPIInstance(t)){this.setAPI();return;}if(k.hasClass(this.importer_widget,'unsupported')){this.setDefault();return;}};s.prototype.canHidePassword=function(){"use strict";return !k.hasClass(this.importer_widget,'default');};s.prototype.disablePassword=function(){"use strict";if(!this.canHidePassword())return;var t=l.find(this.getFormElement(),'.ci_password_row');k.hide(t);g.inform('ContactImporter/passwordRowHidden',{form:this.importer_widget},g.BEHAVIOR_EVENT);};s.prototype.enablePassword=function(){"use strict";var t=l.find(this.getFormElement(),'.ci_password_row');k.show(t);g.inform('ContactImporter/passwordRowShown',{form:this.importer_widget},g.BEHAVIOR_EVENT);};s.prototype.getWidget=function(){"use strict";return o(this.getElementID('widget'));};s.prototype.getPassword=function(){"use strict";return p(this.getElementID('password'));};s.prototype.getAPIInstance=function(t){"use strict";var u=j.getImporterName(t);if(!u)return null;var v=i[u];if(v&&this.enabledApis[v])return v;return null;};s.prototype.getLoginString=function(){"use strict";var t=r.getLoginString.call(this);if(this.shouldImplyDomain())return t+'@'+this.ci_config.domain;return t;};s.prototype.shouldImplyDomain=function(){"use strict";return this.ci_config.domain&&r.getLoginString.call(this).indexOf('@')==-1;};s.prototype.getSerializedForm=function(){"use strict";var t=r.getSerializedForm.call(this);if(this.shouldImplyDomain())t.domain_was_implied=true;return t;};e.exports=s;},null);
__d("legacy:contact-importer-webmail",["CIWebmailInputController"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();a.CIWebmailInputController=b('CIWebmailInputController');},3);
__d("CIWlmInputController",["CIInputController","copyProperties"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();for(var i in g)if(g.hasOwnProperty(i))k[i]=g[i];var j=g===null?null:g.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=g;function k(l,m,n,o,p){"use strict";g.call(this,l,m,n,o,false);h(this,{api_instance:p});return this;}k.prototype.onSubmit=function(){"use strict";g.instance=this;var l=this.getLoginString();this.openAPIPopup(this.api_instance,l,null);return false;};e.exports=k;},null);
__d("legacy:contact-importer-wlm-controller",["CIWlmInputController"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();a.CIWlmInputController=b('CIWlmInputController');},3);
__d("FriendBrowserNameTypeahead",["Arbiter","CSS"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){"use strict";this._typeahead=j;}i.prototype.enable=function(){"use strict";var j=this._typeahead.getCore(),k=j.getValue();this._onResetSubscription=this._typeahead.subscribe('reset',function(){if(k!==j.getValue()){k=j.getValue();g.inform('friend-browser/name-change');}});this._onBlurSubscription=this._typeahead.subscribe('blur',function(){if(!j.selectedText){if(j.getValue()!=='')h.addClass(this._typeahead.core.inputWrap,'selected');if(k!==j.getValue()){k=j.getValue();g.inform('friend-browser/name-change');}}}.bind(this));};i.prototype.disable=function(){"use strict";this._onBlurSubscription.unsubscribe();this._onResetSubscription.unsubscribe();};e.exports=i;},null);
__d("InviteLanguageSelector",["$","CSS","DOM","Form","ge"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l={firstLangSelect:'invite_lang[0]',secondLangSelect:'invite_lang[1]',firstLangInput:'locales[0]',secondLangInput:'locales[1]',languageSection:'language_section',defaultLang:'default_lang',setLocales:function(m){if(m=='first'){g(l.firstLangInput).value=j.getSelectValue(g(l.firstLangSelect));}else if(m=='second')g(l.secondLangInput).value=j.getSelectValue(g(l.secondLangSelect));},init:function(m){if(m>1){g('change_lang_link').onclick=this.setTwoLanguages;}else g('change_lang_link').onclick=this.setOneLanguage;g('remove_link').onclick=this.setOneLanguage;var n=k('add_another_link');if(n)n.onclick=this.setTwoLanguages;g(this.firstLangSelect).onchange=function(){l.setLocales('first');};g(this.secondLangSelect).onchange=function(){l.setLocales('second');};},addNullLanguage:function(m){var n=k(l.secondLangSelect);if(n)i.insertBefore(n.children[0],m);},setOneLanguage:function(){var m=g(l.languageSection);h.removeClass(m,'lang_init');h.removeClass(m,'two_lang');h.addClass(m,'one_lang');h.hide(l.defaultLang);g(l.secondLangInput).value=0;},setTwoLanguages:function(){var m=g(l.languageSection);h.removeClass(m,'lang_init');h.removeClass(m,'one_lang');h.addClass(m,'two_lang');h.hide(l.defaultLang);l.setLocales('second');}};e.exports=l;},null);
__d("EchoDataSource",["ArbiterMixin","copyProperties","emptyFunction","SearchableEntry","mixin"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=k(g);for(var m in l)if(l.hasOwnProperty(m))o[m]=l[m];var n=l===null?null:l.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=l;function o(){"use strict";}o.prototype.query=function(p,q,r,s){"use strict";var t=p?[{uid:p,text:p}]:[];this.inform('respond',{value:p,results:t,isAsync:false});};o.prototype.search=function(p,q){"use strict";if(!p)return;var r=new j({uniqueID:p?p:'null',title:p});q([r],p);};h(o.prototype,{events:['respond'],bootstrap:i,init:i});e.exports=o;},null);